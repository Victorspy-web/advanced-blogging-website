{% extends "blog/partials/main_base.html" %}
{% load static %}
{% load blog_tags %}
{% block title %}Blog Home Page{% endblock title %}

{% block content %}
<!-- featured post -->
<section class="">
	<div class="container-fluid p-sm-0">

		{% if tag or blog_filtered %}
		{% include "blog/post/search.html" %}
		{% else %}

		<div class="row featured-post-slider">
			<!-- for loop 5 top ones -->

			{% for post in posts %}
			<div class="col-lg-3 col-sm-6 mb-2 mb-lg-0 px-1 blogs-shadow-f">
				<article class="card bg-dark text-center text-white border-0 rounded-0">
					<img class="card-img rounded-0 img-fluid w-100 cover-image" src="{{ post.cover_image.url }}"
						alt="{{ post.title }}'s blog cover image">
					<div class="card-img-overlay">
						<div class="card-content">
							<h4 class="card-title mb-4"><a class="text-white" href="{{post.get_absolute_url}}">{{ post.title }}</a></h4>
							<a class="btn btn-outline-light" href="{{post.get_absolute_url}}">read more</a>
						</div>
					</div>
				</article>
			</div>
			{% empty %}
			<div class="text-center">
				{% if blog_filtered %}
				<h3 class="py-5">Oops, No Blogs found...</h3>
				<a class="btn btn-success btn-lg" href="{% url 'blog:post_list' %}">Back To Blogs</a>
				{% else %}
				<h3 class="my-5">There are no blogs yet...</h3>
				{% endif %}
			</div>
			{% endfor %}

		</div>
		
	</div>
</section>
<!-- /featured post -->

<!-- blog post -->
<section class="section">
	<div class="container">
		<div class="row masonry-container">

			{% for post in posts %}
			<div class="col-lg-4 col-sm-6 mb-5 blogs-shadow">
				<article class="text-center">
					<img class="img-fluid mb-4 cover-image-blogs" src="{{ post.cover_image.url }}" alt="post-thumb' %}">
					<p class="text-uppercase mb-2">TRAVEL</p>
					<h4 class="title-border"><a class="text-dark" href="{{post.get_absolute_url}}">{{ post.title }}</a>
					</h4>
					<p>{{post.body|striptags|truncatewords_html:20}}</p>
					<a href="{{post.get_absolute_url}}" class="btn btn-transparent">read more</a>
				</article>
			</div>
			{% empty %}
			<div class="text-center">
				{% if blog_filtered %}
				<h3 class="py-5">Oops, No Blogs found...</h3>
				<a class="btn btn-success btn-lg" href="{% url 'blog:post_list' %}">Back To Blogs</a>
				{% else %}
				<h3 class="my-5">There are no blogs yet...</h3>
				{% endif %}
			</div>
			{% endfor %}

		</div>
		{% endif %}
		<!-- pagination -->
		<div class="row">
			<div class="col-12">
				<nav>
					<ul class="pagination justify-content-center align-items-center">
						<li class="page-item">
							<span class="page-link">&laquo; Previous</span>
						</li>
						<li class="page-item"><a class="page-link" href="#">01</a></li>
						<li class="page-item active">
							<span class="page-link">02</span>
						</li>
						<li class="page-item"><a class="page-link" href="#">03</a></li>
						<li class="page-item"><a class="page-link" href="#">04</a></li>
						<li class="page-item"><a class="page-link" href="#">05</a></li>
						<li class="page-item"><a class="page-link" href="#">06</a></li>
						<li class="page-item">
							<a class="page-link" href="#">Next &raquo;</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>

	</div>
</section>
<!-- /blog post -->

{% endblock content %}